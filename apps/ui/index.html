<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VibeSensor</title>
  </head>
  <body>
    <div class="wrap">
      <header class="site-header">
        <div class="topbar">
          <h1 class="title" data-i18n="title.main">VibeSensor</h1>
          <div class="topbar-telemetry">
            <div id="speed" class="speed" aria-live="polite">Speed --</div>
            <label class="mini-label" for="speedUnitSelect" data-i18n="speed.unit">Unit</label>
            <select id="speedUnitSelect" class="unit-picker" aria-label="Speed unit">
              <option value="kmh" data-i18n="speed.unit.kmh">km/h</option>
              <option value="mps" data-i18n="speed.unit.mps">m/s</option>
            </select>
            <div id="headerManualOverrideGroup" class="header-override-group" hidden>
              <label class="mini-label" for="headerManualSpeedInput" data-i18n="settings.speed.manual_label">Manual Speed (km/h)</label>
              <input id="headerManualSpeedInput" type="number" step="0.1" min="0" />
              <button id="headerManualSpeedSaveBtn" class="btn btn--primary btn--small" data-i18n="settings.speed.save">Save Speed Source</button>
            </div>
            <div id="headerGpsStatus" class="pill pill--muted" aria-live="polite">GPS --</div>
          </div>
          <div class="topbar-actions">
            <select id="languageSelect" class="lang-picker" aria-label="Language">
              <option value="en">ðŸ‡ºðŸ‡¸ English</option>
              <option value="nl">ðŸ‡³ðŸ‡± Nederlands</option>
            </select>
            <div id="linkState" class="pill pill--muted" aria-live="polite">Connecting...</div>
          </div>
        </div>

        <nav class="menu" aria-label="Primary" role="tablist">
          <button type="button" class="menu-btn active" data-view="dashboardView" id="tab-dashboard" role="tab" aria-controls="dashboardView" aria-selected="true" tabindex="0">
            <span data-i18n="nav.live">Live</span>
          </button>
          <button type="button" class="menu-btn" data-view="historyView" id="tab-history" role="tab" aria-controls="historyView" aria-selected="false" tabindex="-1">
            <span data-i18n="nav.history">History</span>
          </button>
          <button type="button" class="menu-btn" data-view="settingsView" id="tab-settings" role="tab" aria-controls="settingsView" aria-selected="false" tabindex="-1">
            <span data-i18n="nav.settings">Settings</span>
          </button>
        </nav>
      </header>

      <section id="dashboardView" class="view active" role="tabpanel" aria-labelledby="tab-dashboard">
        <div class="stat-grid">
          <div class="panel card stat" id="lastSeen">
            <div class="stat__label" data-i18n="status.last_seen_label">Last seen</div>
            <div class="stat__value" data-value>--</div>
          </div>
          <div class="panel card stat" id="dropped">
            <div class="stat__label" data-i18n="status.dropped_label">Dropped frames</div>
            <div class="stat__value" data-value>--</div>
          </div>
          <div class="panel card stat" id="framesTotal">
            <div class="stat__label" data-i18n="status.frames_total_label">Frames total</div>
            <div class="stat__value" data-value>--</div>
          </div>
        </div>

        <div class="dashboard-grid">
          <div class="panel card dashboard-grid__main">
            <div class="card__header">
              <div class="card__title" data-i18n="chart.spectrum_title">Multi-Sensor Blended Spectrum</div>
            </div>
            <div class="spectrum-split">
              <div class="spectrum-split__chart">
                <div id="specChartWrap" class="spectrum-wrap">
                  <div id="specChart"></div>
                  <div id="spectrumOverlay" class="empty-state" hidden>Waiting for sensor data...</div>
                </div>
                <div id="legend" class="legend"></div>
                <div id="bandLegend" class="legend band-legend"></div>
              </div>
              <div class="spectrum-split__map">
                <div class="car-map" id="liveCarMap">
                  <svg class="car-map__svg" viewBox="0 0 200 340" aria-label="Car top-down map">
                    <rect x="30" y="30" width="140" height="280" rx="50" ry="50" class="car-map__body" />
                    <rect x="20" y="60" width="18" height="50" rx="8" class="car-map__wheel" />
                    <rect x="162" y="60" width="18" height="50" rx="8" class="car-map__wheel" />
                    <rect x="20" y="215" width="18" height="50" rx="8" class="car-map__wheel" />
                    <rect x="162" y="215" width="18" height="50" rx="8" class="car-map__wheel" />
                    <line x1="100" y1="130" x2="100" y2="230" class="car-map__axle" />
                    <rect x="60" y="30" width="80" height="45" rx="20" class="car-map__windshield" />
                    <rect x="60" y="270" width="80" height="35" rx="15" class="car-map__windshield" />
                  </svg>
                  <div class="car-map__dots" id="liveCarMapDots"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="dashboard-grid__side">
            <div class="panel card">
              <div class="card__header">
                <div class="card__title" data-i18n="dashboard.run_recording">Run Recording</div>
              </div>
              <div class="logging-row">
                <span id="loggingStatus" class="pill pill--muted" aria-live="polite">Stopped</span>
              </div>
              <div class="logging-actions">
                <button id="startLoggingBtn" class="btn" data-i18n="dashboard.start_recording">Start Recording</button>
                <button id="stopLoggingBtn" class="btn" data-i18n="dashboard.stop_recording">Stop Recording</button>
              </div>
              <div class="rotational-speeds" aria-live="polite">
                <div class="rotational-speeds__title" data-i18n="dashboard.rotational.title">Rotational Speeds</div>
                <div class="rotational-speed-row">
                  <span class="rotational-speed-row__label" data-i18n="dashboard.rotational.wheel">Wheels</span>
                  <span id="rotationalWheelValue" class="rotational-speed-row__value">--</span>
                  <span id="rotationalWheelMode" class="pill pill--muted rotational-speed-row__mode">Calculated</span>
                </div>
                <div class="rotational-speed-row">
                  <span class="rotational-speed-row__label" data-i18n="dashboard.rotational.driveshaft">Driveshaft</span>
                  <span id="rotationalDriveshaftValue" class="rotational-speed-row__value">--</span>
                  <span id="rotationalDriveshaftMode" class="pill pill--muted rotational-speed-row__mode">Calculated</span>
                </div>
                <div class="rotational-speed-row">
                  <span class="rotational-speed-row__label" data-i18n="dashboard.rotational.engine">Engine</span>
                  <span id="rotationalEngineValue" class="rotational-speed-row__value">--</span>
                  <span id="rotationalEngineMode" class="pill pill--muted rotational-speed-row__mode">Calculated</span>
                </div>
                <div id="rotationalBasisSource" class="rotational-speeds__basis mini-label">Basis speed source: --</div>
                <div id="rotationalReason" class="rotational-speeds__reason mini-label" hidden></div>
              </div>
              <div id="currentLogFile" class="card__subtle">Current file: --</div>
            </div>

            <div class="panel card">
              <div class="card__header">
                <div class="card__title" data-i18n="dashboard.detected_vibrations">Detected Vibrations</div>
              </div>
              <div id="vibrationLog" class="log-box" aria-live="polite"></div>
            </div>
          </div>

          <div class="panel card dashboard-grid__strength">
            <div id="strengthChart" class="strength-chart"></div>
          </div>

          <div class="panel card dashboard-grid__full">
            <div class="card__header">
              <div class="card__title" data-i18n="dashboard.vibration_count_live">Vibration Count Live</div>
            </div>
            <div class="matrix-note"><span data-i18n="dashboard.matrix_note">Levels use peak-over-floor dB bands (L1-L5), grouped by source type.</span></div>
            <div class="matrix-wrap">
              <table id="vibrationMatrix" class="vib-matrix"></table>
            </div>
          </div>
        </div>
      </section>

      <section id="historyView" class="view" role="tabpanel" aria-labelledby="tab-history" hidden>
        <div class="panel card">
          <div class="log-actions">
            <div class="field">
              <label>&nbsp;</label>
              <button id="refreshHistoryBtn" class="btn btn--primary" data-i18n="history.refresh">Refresh History</button>
            </div>
            <div class="field">
              <label>&nbsp;</label>
              <button id="deleteAllRunsBtn" class="btn btn--danger" data-i18n="history.delete_all" disabled>Delete All Runs</button>
            </div>
            <div class="field">
              <label>&nbsp;</label>
              <div id="historySummary" class="subtle">No runs yet.</div>
            </div>
          </div>
          <table class="history-table">
            <thead>
              <tr>
                <th data-i18n="history.table.file">File</th>
                <th data-i18n="history.table.updated">Updated</th>
                <th class="numeric" data-i18n="history.table.size">Size</th>
                <th data-i18n="history.table.actions">Actions</th>
              </tr>
            </thead>
            <tbody id="historyTableBody">
              <tr>
                <td colspan="4">No runs found.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="settingsView" class="view" role="tabpanel" aria-labelledby="tab-settings" hidden>
        <nav class="settings-tabs" role="tablist">
          <button type="button" class="settings-tab active" data-settings-tab="carTab" role="tab" aria-controls="carTab" aria-selected="true" tabindex="0">
            <span data-i18n="settings.tab.car">Car</span>
          </button>
          <button type="button" class="settings-tab" data-settings-tab="analysisTab" role="tab" aria-controls="analysisTab" aria-selected="false" tabindex="-1">
            <span data-i18n="settings.tab.analysis">Analysis</span>
          </button>
          <button type="button" class="settings-tab" data-settings-tab="speedSourceTab" role="tab" aria-controls="speedSourceTab" aria-selected="false" tabindex="-1">
            <span data-i18n="settings.tab.speed_source">Speed Source</span>
          </button>
          <button type="button" class="settings-tab" data-settings-tab="sensorsTab" role="tab" aria-controls="sensorsTab" aria-selected="false" tabindex="-1">
            <span data-i18n="settings.tab.sensors">Sensors</span>
          </button>
          <button type="button" class="settings-tab" data-settings-tab="updateTab" role="tab" aria-controls="updateTab" aria-selected="false" tabindex="-1">
            <span data-i18n="settings.tab.update">Update</span>
          </button>
        </nav>

        <!-- Car Tab -->
        <div id="carTab" class="settings-tab-panel active" role="tabpanel">
          <div class="panel card">
            <div class="car-tab-header">
              <strong data-i18n="settings.car.manage">Manage Cars</strong>
              <button id="addCarBtn" class="btn btn--success" data-i18n="settings.car.add_new">+ Add Car</button>
            </div>
            <div class="subtle" data-i18n="settings.car.hint">Add cars from the library or enter specs manually. Activate a car to use it for analysis.</div>
            <table class="car-list-table">
              <thead>
                <tr>
                  <th data-i18n="settings.car.col_status">Status</th>
                  <th data-i18n="settings.car.col_name">Name</th>
                  <th data-i18n="settings.car.col_type">Type</th>
                  <th data-i18n="settings.car.col_tires">Tires</th>
                  <th data-i18n="settings.car.col_drive">Drive</th>
                  <th data-i18n="settings.car.col_gear">Top Gear</th>
                  <th data-i18n="settings.car.col_actions">Actions</th>
                </tr>
              </thead>
              <tbody id="carListBody">
                <tr><td colspan="7" data-i18n="settings.car.no_cars">No cars added yet.</td></tr>
              </tbody>
            </table>
          </div>

          <!-- Add Car Wizard (hidden by default) -->
          <div id="addCarWizard" class="panel card add-car-wizard" hidden>
            <div class="wizard-header">
              <strong data-i18n="settings.car.add_title">Add a Car</strong>
              <button id="wizardCloseBtn" class="btn btn--muted wizard-close" aria-label="Close wizard">&times;</button>
            </div>
            <div class="wizard-steps">
              <div class="wizard-step-indicators">
                <span class="wizard-step-dot active" data-step="0">1</span>
                <span class="wizard-step-dot" data-step="1">2</span>
                <span class="wizard-step-dot" data-step="2">3</span>
                <span class="wizard-step-dot" data-step="3">4</span>
              </div>

              <!-- Step 1: Brand -->
              <div id="wizardStep0" class="wizard-step active">
                <h3 data-i18n="settings.car.step_brand">Select Brand</h3>
                <div class="wizard-options" id="wizardBrandList"></div>
                <div class="wizard-custom">
                  <label data-i18n="settings.car.or_custom_brand">Or type a custom brand:</label>
                  <input id="wizardCustomBrand" type="text" maxlength="32" placeholder="e.g. Mercedes-Benz" />
                  <button id="wizardCustomBrandBtn" class="btn btn--primary" data-i18n="settings.car.use_custom">Use Custom</button>
                </div>
              </div>

              <!-- Step 2: Type -->
              <div id="wizardStep1" class="wizard-step">
                <h3 data-i18n="settings.car.step_type">Select Type</h3>
                <div class="wizard-options" id="wizardTypeList"></div>
                <div class="wizard-custom">
                  <label data-i18n="settings.car.or_custom_type">Or type a custom type:</label>
                  <input id="wizardCustomType" type="text" maxlength="32" placeholder="e.g. Van" />
                  <button id="wizardCustomTypeBtn" class="btn btn--primary" data-i18n="settings.car.use_custom">Use Custom</button>
                </div>
              </div>

              <!-- Step 3: Model -->
              <div id="wizardStep2" class="wizard-step">
                <h3 data-i18n="settings.car.step_model">Select Model</h3>
                <div class="wizard-options wizard-options--list" id="wizardModelList"></div>
                <div class="wizard-custom">
                  <label data-i18n="settings.car.or_custom_model">Or type a custom model:</label>
                  <input id="wizardCustomModel" type="text" maxlength="64" placeholder="e.g. C-Class W205" />
                  <button id="wizardCustomModelBtn" class="btn btn--primary" data-i18n="settings.car.use_custom">Use Custom</button>
                </div>
              </div>

              <!-- Step 4: Wheels & Gearbox -->
              <div id="wizardStep3" class="wizard-step">
                <h3 data-i18n="settings.car.step_wheels">Select Wheels</h3>
                <div class="wizard-options" id="wizardTireList"></div>
                <h3 data-i18n="settings.car.step_gearbox" class="wizard-section-title">Select Gearbox</h3>
                <div class="wizard-options wizard-options--list" id="wizardGearboxList"></div>
                <div class="wizard-custom-specs">
                  <strong data-i18n="settings.car.or_manual_specs">Or enter specs manually:</strong>
                  <div class="settings-subgrid">
                    <div class="field"><label for="wizTireWidth" data-i18n="settings.tire_width">Tire Width (mm)</label><input id="wizTireWidth" type="number" min="100" step="1" value="225" /></div>
                    <div class="field"><label for="wizTireAspect" data-i18n="settings.tire_aspect">Tire Aspect (%)</label><input id="wizTireAspect" type="number" min="20" step="1" value="45" /></div>
                    <div class="field"><label for="wizRim" data-i18n="settings.rim_size">Rim Size (in)</label><input id="wizRim" type="number" min="10" step="0.5" value="18" /></div>
                    <div class="field"><label for="wizFinalDrive" data-i18n="settings.final_drive_ratio">Final Drive Ratio</label><input id="wizFinalDrive" type="number" step="0.01" min="0.1" value="3.08" /></div>
                    <div class="field"><label for="wizGearRatio" data-i18n="settings.top_gear_ratio">Top Gear Ratio</label><input id="wizGearRatio" type="number" step="0.01" min="0.1" value="0.64" /></div>
                  </div>
                  <button id="wizardManualAddBtn" class="btn btn--success" data-i18n="settings.car.add_with_specs">Add Car with These Specs</button>
                </div>
              </div>
            </div>

            <div class="wizard-nav">
              <button id="wizardBackBtn" class="btn btn--muted" data-i18n="settings.car.back">Back</button>
            </div>
          </div>
        </div>

        <!-- Analysis Tab -->
        <div id="analysisTab" class="settings-tab-panel" role="tabpanel" hidden>
          <div class="panel card settings-layout">
            <div class="subtle" data-i18n="settings.analysis.hint">These settings apply globally to all cars and control how vibration frequency bands are calculated.</div>
            <div class="settings-groups">
              <section class="settings-group">
                <h3 data-i18n="settings.group.order_band_widths">Order Band Widths</h3>
                <div class="settings-subgrid">
                  <div class="field"><label for="wheelBandwidthInput" data-i18n="settings.wheel_bandwidth">Wheel Bandwidth (%)</label><input id="wheelBandwidthInput" type="number" step="0.1" min="1" max="40" /></div>
                  <div class="field"><label for="driveshaftBandwidthInput" data-i18n="settings.driveshaft_bandwidth">Driveshaft Bandwidth (%)</label><input id="driveshaftBandwidthInput" type="number" step="0.1" min="1" max="40" /></div>
                  <div class="field"><label for="engineBandwidthInput" data-i18n="settings.engine_bandwidth">Engine Bandwidth (%)</label><input id="engineBandwidthInput" type="number" step="0.1" min="1" max="40" /></div>
                  <div class="field"><label for="minAbsBandHzInput" data-i18n="settings.min_half_width">Min Half-width (Hz)</label><input id="minAbsBandHzInput" type="number" step="0.1" min="0" max="10" /></div>
                  <div class="field"><label for="maxBandHalfWidthInput" data-i18n="settings.max_half_width">Max Half-width (%)</label><input id="maxBandHalfWidthInput" type="number" step="0.1" min="1" max="25" /></div>
                </div>
              </section>

              <section class="settings-group">
                <h3 data-i18n="settings.group.uncertainty_model">Uncertainty Model</h3>
                <div class="subtle"><span data-i18n="settings.uncertainty_defaults">Defaults use tire wear from 10/32 in to 2/32 in plus safety margin.</span></div>
                <div class="settings-subgrid">
                  <div class="field"><label for="speedUncertaintyInput" data-i18n="settings.speed_uncertainty">Speed Uncertainty (%)</label><input id="speedUncertaintyInput" type="number" step="0.1" min="0" max="20" /></div>
                  <div class="field"><label for="tireDiameterUncertaintyInput" data-i18n="settings.tire_diameter_uncertainty">Tire Diameter Uncertainty (%)</label><input id="tireDiameterUncertaintyInput" type="number" step="0.1" min="0" max="20" /></div>
                  <div class="field"><label for="finalDriveUncertaintyInput" data-i18n="settings.final_drive_uncertainty">Final Drive Uncertainty (%)</label><input id="finalDriveUncertaintyInput" type="number" step="0.1" min="0" max="10" /></div>
                  <div class="field"><label for="gearUncertaintyInput" data-i18n="settings.gear_slip_uncertainty">Gear/Slip Uncertainty (%)</label><input id="gearUncertaintyInput" type="number" step="0.1" min="0" max="20" /></div>
                </div>
              </section>
            </div>
            <div class="settings-actions">
              <button id="saveAnalysisBtn" class="btn btn--primary" data-i18n="settings.analysis.save">Save Analysis Settings</button>
            </div>
          </div>
        </div>

        <!-- Speed Source Tab -->
        <div id="speedSourceTab" class="settings-tab-panel" role="tabpanel" hidden>
          <div class="panel card">
            <strong data-i18n="settings.speed.title">Speed Source</strong>
            <div class="subtle" data-i18n="settings.speed.hint">Select how vehicle speed is determined. Manual override is only active when "Manual" is selected.</div>
            <div class="speed-source-options">
              <label class="radio-label"><input type="radio" name="speedSourceRadio" value="gps" checked /> <span data-i18n="settings.speed.gps">GPS</span></label>
              <label class="radio-label"><input type="radio" name="speedSourceRadio" value="manual" /> <span data-i18n="settings.speed.manual">Manual</span></label>
            </div>
            <div class="manual-speed-row">
              <label for="manualSpeedInput" data-i18n="settings.speed.manual_label">Manual Speed (km/h)</label>
              <input id="manualSpeedInput" type="number" step="0.1" min="0" />
            </div>
            <div class="settings-actions">
              <button id="saveSpeedSourceBtn" class="btn btn--primary" data-i18n="settings.speed.save">Save Speed Source</button>
            </div>
          </div>

          <!-- GPS Status Panel -->
          <div class="panel card" id="gpsStatusPanel">
            <strong data-i18n="settings.speed.status_title">GPS Status</strong>
            <table class="kv-table">
              <tbody>
                <tr><td data-i18n="settings.speed.state_connected">Connection</td><td id="gpsStatusState">--</td></tr>
                <tr><td data-i18n="settings.speed.device">Device</td><td id="gpsStatusDevice">--</td></tr>
                <tr><td data-i18n="settings.speed.last_update">Last update</td><td id="gpsStatusLastUpdate">--</td></tr>
                <tr><td data-i18n="settings.speed.raw_speed">Raw speed</td><td id="gpsStatusRawSpeed">--</td></tr>
                <tr><td data-i18n="settings.speed.effective_speed">Effective speed</td><td id="gpsStatusEffectiveSpeed">--</td></tr>
                <tr><td data-i18n="settings.speed.last_error">Last error</td><td id="gpsStatusLastError">--</td></tr>
                <tr><td data-i18n="settings.speed.reconnect_in">Reconnect in</td><td id="gpsStatusReconnect">--</td></tr>
                <tr><td data-i18n="settings.speed.fallback_active">Fallback active</td><td id="gpsStatusFallback">--</td></tr>
              </tbody>
            </table>
          </div>

          <!-- Fallback Controls -->
          <div class="panel card" id="gpsFallbackPanel">
            <strong data-i18n="settings.speed.fallback_title">Fallback Controls</strong>
            <div class="manual-speed-row">
              <label for="staleTimeoutInput" data-i18n="settings.speed.stale_timeout_label">Stale timeout (s)</label>
              <input id="staleTimeoutInput" type="number" step="1" min="3" max="120" value="10" />
            </div>
            <div class="manual-speed-row">
              <label for="fallbackModeSelect" data-i18n="settings.speed.fallback_mode_label">Fallback mode</label>
              <select id="fallbackModeSelect">
                <option value="manual" data-i18n="settings.speed.fallback_mode_manual">Manual override</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Sensors Tab -->
        <div id="sensorsTab" class="settings-tab-panel" role="tabpanel" hidden>
          <div class="panel card">
            <strong data-i18n="settings.sensors.title">Sensors</strong>
            <div class="subtle" data-i18n="settings.sensors.hint">Manage sensor names and locations. Default name is the MAC address.</div>
            <table class="clients-table">
              <thead>
                <tr>
                  <th data-i18n="settings.sensors.name">Name</th>
                  <th data-i18n="settings.sensors.mac">MAC Address</th>
                  <th data-i18n="settings.sensors.location">Location</th>
                  <th data-i18n="settings.sensors.identify">Identify</th>
                  <th data-i18n="settings.sensors.remove">Remove</th>
                </tr>
              </thead>
              <tbody id="sensorsSettingsBody">
                <tr>
                  <td colspan="5">No sensors detected yet.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Update Tab -->
        <div id="updateTab" class="settings-tab-panel" role="tabpanel" hidden>
          <div class="panel card">
            <strong data-i18n="settings.update.title">System Update</strong>
            <div class="subtle" data-i18n="settings.update.hint">Connect to a Wi-Fi network to update from GitHub. The hotspot will be temporarily disabled during the update.</div>
            <div class="subtle" data-i18n="settings.update.reconnect_note" style="margin-top:0.25rem;">Note: The page may disconnect while the hotspot is down. It will reconnect automatically.</div>

            <div class="update-form" style="margin-top:1rem;">
              <div class="form-group">
                <label for="updateSsidInput" data-i18n="settings.update.ssid">Wi-Fi SSID</label>
                <input type="text" id="updateSsidInput" autocomplete="off" maxlength="64" style="width:100%;max-width:20rem;" />
              </div>
              <div class="form-group" style="margin-top:0.5rem;">
                <label for="updatePasswordInput" data-i18n="settings.update.password">Wi-Fi Password</label>
                <div style="display:flex;gap:0.5rem;align-items:center;">
                  <input type="password" id="updatePasswordInput" autocomplete="off" maxlength="128" style="width:100%;max-width:20rem;" />
                  <button type="button" id="updateTogglePasswordBtn" class="btn btn--small">
                    <span data-i18n="settings.update.show_password">Show</span>
                  </button>
                </div>
              </div>
              <div style="margin-top:1rem;display:flex;gap:0.5rem;">
                <button type="button" id="updateStartBtn" class="btn btn--success" data-i18n="settings.update.start">Start Update</button>
                <button type="button" id="updateCancelBtn" class="btn btn--danger" hidden data-i18n="settings.update.cancel">Cancel Update</button>
              </div>
            </div>

            <div id="updateStatusPanel" style="margin-top:1.5rem;">
              <!-- Rendered dynamically by update_feature.ts -->
            </div>
          </div>
        </div>
      </section>
    </div>
    <div id="matrixTooltip" class="matrix-tooltip"></div>
    <div id="strengthTooltip" class="matrix-tooltip strength-tooltip"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
